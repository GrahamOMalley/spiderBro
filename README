This python script takes a list of tv shows, scrapes thetvdb.com and the xbmc mysql db, and creates a list of missing episodes. 

It then uses BeautifulSoup to search the pirate bay and btjunkie for these episodes, and adds them to deluge via the deluge rpc interface.

Currently, only the mysql xbmc db is supported - it would be trivial to rewrite this to use the standard sqlite db, but as I don't use this I probably won't add support in the foreseeable future.

The script requires that a db schema is available called "torrents" (user/pass is "torrents" too)
The schema has two tables, urls_seen and finished_shows

urls_seen takes the form:
+----------+-------------+------+-----+---------+-------+
| Field    | Type        | Null | Key | Default | Extra |
+----------+-------------+------+-----+---------+-------+
| showname | varchar(64) | NO   |     | NULL    |       |
| episode  | varchar(64) | NO   |     | NULL    |       |
| url      | varchar(64) | NO   |     | NULL    |       |
+----------+-------------+------+-----+---------+-------+

finished_shows takes the form:
+----------+-------------+------+-----+---------+-------+
| Field    | Type        | Null | Key | Default | Extra |
+----------+-------------+------+-----+---------+-------+
| showname | varchar(64) | NO   |     | NULL    |       |
+----------+-------------+------+-----+---------+-------+

